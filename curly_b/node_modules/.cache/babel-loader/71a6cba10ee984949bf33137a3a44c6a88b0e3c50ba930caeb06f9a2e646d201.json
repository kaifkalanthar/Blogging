{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MOHAMED KAIF\\\\OneDrive\\\\Documents\\\\React.js\\\\Blogging\\\\curly_b\\\\src\\\\common\\\\form.jsx\";\nimport React, { Component } from 'react';\nimport Joi from 'joi-browser';\nimport Button from './button';\nimport Input from './input';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Form extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      data: {},\n      errors: {}\n    };\n    this.handleChange = _ref => {\n      let {\n        currentTarget: input\n      } = _ref;\n      const errors = {\n        ...this.state.errors\n      };\n      const errorMessage = this.validateProperty(input);\n      if (errorMessage) errors[input.name] = errorMessage;else delete errors[input.name];\n      const data = {\n        ...this.state.data\n      };\n      data[input.name] = input.value;\n      this.setState({\n        errors,\n        data\n      });\n    };\n    this.validateProperty = _ref2 => {\n      let {\n        name,\n        value\n      } = _ref2;\n      const obj = {\n        [name]: value\n      };\n      const schema = {\n        [name]: this.schema[name]\n      };\n      const {\n        error\n      } = Joi.validate(obj, schema);\n      return error ? error.details[0].message : null;\n    };\n    this.validate = () => {\n      const options = {\n        abortEarly: false\n      };\n      const {\n        error\n      } = Joi.validate(this.state.data, this.schema, options);\n      if (!error) return null;\n      const errors = {};\n      for (let item of error.details) errors[item.path[0]] = item.message;\n      return errors;\n    };\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const errors = this.validate();\n      this.setState({\n        errors: errors || {}\n      });\n      if (errors) return;\n      this.doSubmit();\n    };\n  }\n  renderButton(label) {\n    return /*#__PURE__*/_jsxDEV(Button, {\n      label: label,\n      disabled: this.validate()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 16\n    }, this);\n  }\n  renderInput(name, label) {\n    let type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"text\";\n    const {\n      errors\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(Input, {\n      name: name,\n      placeholder: label,\n      type: type,\n      handleChange: this.handleChange,\n      error: errors\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 16\n    }, this);\n  }\n}\nexport default Form;","map":{"version":3,"names":["React","Component","Joi","Button","Input","jsxDEV","_jsxDEV","Form","constructor","arguments","state","data","errors","handleChange","_ref","currentTarget","input","errorMessage","validateProperty","name","value","setState","_ref2","obj","schema","error","validate","details","message","options","abortEarly","item","path","handleSubmit","e","preventDefault","doSubmit","renderButton","label","disabled","fileName","_jsxFileName","lineNumber","columnNumber","renderInput","type","length","undefined","placeholder"],"sources":["C:/Users/MOHAMED KAIF/OneDrive/Documents/React.js/Blogging/curly_b/src/common/form.jsx"],"sourcesContent":["import React, { Component } from 'react';\r\nimport Joi from 'joi-browser';\r\nimport Button from './button';\r\nimport Input from './input';\r\n\r\nclass Form extends Component {\r\n    state = {\r\n        data: {},\r\n        errors: {}\r\n    }\r\n\r\n    handleChange = ({ currentTarget: input }) => {\r\n        const errors = { ...this.state.errors };\r\n        const errorMessage = this.validateProperty(input);\r\n        if (errorMessage) errors[input.name] = errorMessage;\r\n        else delete errors[input.name];\r\n\r\n        const data = { ...this.state.data };\r\n        data[input.name] = input.value;\r\n        this.setState({ errors, data });\r\n    }\r\n\r\n    validateProperty = ({ name, value }) => {\r\n        const obj = { [name]: value };\r\n        const schema = { [name]: this.schema[name] };\r\n        const { error } = Joi.validate(obj, schema);\r\n        return error ? error.details[0].message : null;\r\n    }\r\n\r\n    validate = () => {\r\n        const options = { abortEarly: false };\r\n        const { error } = Joi.validate(this.state.data, this.schema, options);\r\n        if (!error) return null;\r\n\r\n        const errors = {};\r\n        for (let item of error.details) errors[item.path[0]] = item.message;\r\n        return errors;\r\n    }\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        const errors = this.validate();\r\n        this.setState({ errors: errors || {} });\r\n        if (errors) return;\r\n\r\n        this.doSubmit();\r\n    }\r\n\r\n    renderButton(label) {\r\n        return <Button label={label} disabled={this.validate()} />\r\n    }\r\n\r\n    renderInput(name, label, type = \"text\") {\r\n        const { errors } = this.state;\r\n        return <Input\r\n            name={name}\r\n            placeholder={label}\r\n            type={type}\r\n            handleChange={this.handleChange}\r\n            error={errors} />\r\n    }\r\n}\r\n\r\nexport default Form;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}