{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/MOHAMED KAIF/OneDrive/Documents/React.js/Blogging/curly_b/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/MOHAMED KAIF/OneDrive/Documents/React.js/Blogging/curly_b/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/MOHAMED KAIF/OneDrive/Documents/React.js/Blogging/curly_b/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),redirect=_useState6[0],setRedirect=_useState6[1];function login(_x){return _login.apply(this,arguments);}function _login(){_login=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(ev){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:ev.preventDefault();_context.next=3;return fetch('http://localhost:4000/login',{method:'POST',body:JSON.stringify({username:username,password:password}),headers:{'Content-Type':'application/json'},credentials:'include'});case 3:response=_context.sent;if(response.ok){response.json().then(function(userInfo){setRedirect(true);});}else{alert('wrong credentials');}window.location=\"/\";case 6:case\"end\":return _context.stop();}},_callee);}));return _login.apply(this,arguments);}if(redirect){}return/*#__PURE__*/_jsx(\"div\",{id:\"form\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"form-container\",onSubmit:login,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"text-field\",placeholder:\"username\",value:username,onChange:function onChange(ev){return setUsername(ev.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"text-field\",type:\"password\",placeholder:\"password\",value:password,onChange:function onChange(ev){return setPassword(ev.target.value);}}),/*#__PURE__*/_jsx(\"button\",{id:\"submit-btn\",children:\"Login\"})]})});}","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","password","setPassword","_useState5","_useState6","redirect","setRedirect","login","_x","_login","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","ev","response","wrap","_callee$","_context","prev","next","preventDefault","fetch","method","body","JSON","stringify","headers","credentials","sent","ok","json","then","userInfo","alert","window","location","stop","id","children","onSubmit","type","className","placeholder","value","onChange","target"],"sources":["C:/Users/MOHAMED KAIF/OneDrive/Documents/React.js/Blogging/curly_b/src/component/logIn.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useState } from \"react\";\r\n\r\n\r\nexport default function Login() {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [redirect, setRedirect] = useState(false);\r\n\r\n    async function login(ev) {\r\n        ev.preventDefault();\r\n        const response = await fetch('http://localhost:4000/login', {\r\n            method: 'POST',\r\n            body: JSON.stringify({ username, password }),\r\n            headers: { 'Content-Type': 'application/json' },\r\n            credentials: 'include',\r\n        });\r\n        if (response.ok) {\r\n            response.json().then(userInfo => {\r\n                setRedirect(true);\r\n            });\r\n        } else {\r\n            alert('wrong credentials');\r\n        }\r\n        window.location = \"/\"\r\n    }\r\n    if (redirect) { }\r\n    return (\r\n        <div id=\"form\">\r\n            <form id=\"form-container\" onSubmit={login}>\r\n                <h1>Login</h1>\r\n                <input type=\"text\"\r\n                    className=\"text-field\"\r\n                    placeholder=\"username\"\r\n                    value={username}\r\n                    onChange={ev => setUsername(ev.target.value)} />\r\n                <input className=\"text-field\"\r\n                    type=\"password\"\r\n                    placeholder=\"password\"\r\n                    value={password}\r\n                    onChange={ev => setPassword(ev.target.value)} />\r\n                <button id=\"submit-btn\">Login</button>\r\n            </form>\r\n        </div>\r\n\r\n    );\r\n}\r\n"],"mappings":"wdAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGjC,cAAe,SAAS,CAAAC,KAAKA,CAAA,CAAG,CAC5B,IAAAC,SAAA,CAAgCN,QAAQ,CAAC,EAAE,CAAC,CAAAO,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,UAAA,CAAgCX,QAAQ,CAAC,EAAE,CAAC,CAAAY,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,UAAA,CAAgCf,QAAQ,CAAC,KAAK,CAAC,CAAAgB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAxCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAAoB,QAEjC,CAAAG,KAAKA,CAAAC,EAAA,SAAAC,MAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,OAAA,EAAAA,MAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAApB,SAAAC,QAAqBC,EAAE,MAAAC,QAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACnBN,EAAE,CAACO,cAAc,EAAE,CAACH,QAAA,CAAAE,IAAA,SACG,CAAAE,KAAK,CAAC,6BAA6B,CAAE,CACxDC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAE/B,QAAQ,CAARA,QAAQ,CAAEI,QAAQ,CAARA,QAAS,CAAC,CAAC,CAC5C4B,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,WAAW,CAAE,SACjB,CAAC,CAAC,QALIb,QAAQ,CAAAG,QAAA,CAAAW,IAAA,CAMd,GAAId,QAAQ,CAACe,EAAE,CAAE,CACbf,QAAQ,CAACgB,IAAI,EAAE,CAACC,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAC7B7B,WAAW,CAAC,IAAI,CAAC,CACrB,CAAC,CAAC,CACN,CAAC,IAAM,CACH8B,KAAK,CAAC,mBAAmB,CAAC,CAC9B,CACAC,MAAM,CAACC,QAAQ,CAAG,GAAG,yBAAAlB,QAAA,CAAAmB,IAAA,MAAAxB,OAAA,GACxB,UAAAN,MAAA,CAAAC,KAAA,MAAAC,SAAA,GACD,GAAIN,QAAQ,CAAE,CAAE,CAChB,mBACIf,IAAA,QAAKkD,EAAE,CAAC,MAAM,CAAAC,QAAA,cACVjD,KAAA,SAAMgD,EAAE,CAAC,gBAAgB,CAACE,QAAQ,CAAEnC,KAAM,CAAAkC,QAAA,eACtCnD,IAAA,OAAAmD,QAAA,CAAI,OAAK,EAAK,cACdnD,IAAA,UAAOqD,IAAI,CAAC,MAAM,CACdC,SAAS,CAAC,YAAY,CACtBC,WAAW,CAAC,UAAU,CACtBC,KAAK,CAAEjD,QAAS,CAChBkD,QAAQ,CAAE,SAAAA,SAAA/B,EAAE,QAAI,CAAAlB,WAAW,CAACkB,EAAE,CAACgC,MAAM,CAACF,KAAK,CAAC,EAAC,EAAG,cACpDxD,IAAA,UAAOsD,SAAS,CAAC,YAAY,CACzBD,IAAI,CAAC,UAAU,CACfE,WAAW,CAAC,UAAU,CACtBC,KAAK,CAAE7C,QAAS,CAChB8C,QAAQ,CAAE,SAAAA,SAAA/B,EAAE,QAAI,CAAAd,WAAW,CAACc,EAAE,CAACgC,MAAM,CAACF,KAAK,CAAC,EAAC,EAAG,cACpDxD,IAAA,WAAQkD,EAAE,CAAC,YAAY,CAAAC,QAAA,CAAC,OAAK,EAAS,GACnC,EACL,CAGd"},"metadata":{},"sourceType":"module","externalDependencies":[]}