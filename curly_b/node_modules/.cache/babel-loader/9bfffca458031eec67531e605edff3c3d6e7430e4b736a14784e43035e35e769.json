{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MOHAMED KAIF\\\\OneDrive\\\\Documents\\\\React.js\\\\Blogging\\\\curly_b\\\\src\\\\components\\\\common\\\\form.jsx\";\nimport React, { Component } from 'react';\nimport Joi from 'joi-browser';\nimport Input from './input';\nimport Button from './button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Form extends Component {\n  constructor() {\n    var _this;\n    super(...arguments);\n    _this = this;\n    this.state = {\n      data: {},\n      errors: {}\n    };\n    this.handleChange = _ref => {\n      let {\n        currentTarget: input\n      } = _ref;\n      const data = {\n        ...this.state.data\n      };\n      data[input.name] = input.value;\n      const errors = {\n        ...this.state.errors\n      };\n      errors[input.name] = this.validateProperty(input);\n      this.setState({\n        data,\n        errors\n      });\n    };\n    this.validate = () => {\n      const {\n        data\n      } = this.state;\n      const options = {\n        abortEarly: false\n      };\n      const res = Joi.validate(data, this.schema, options);\n      if (!res.error) return null;\n      const errors = {};\n      for (let item of res.error.details) errors[item.path[0]] = item.message;\n      return errors;\n    };\n    this.validateProperty = _ref2 => {\n      let {\n        name,\n        value\n      } = _ref2;\n      const obj = {\n        [name]: value\n      };\n      const schema = {\n        [name]: this.schema[name]\n      };\n      const {\n        error\n      } = Joi.validate(obj, schema);\n      return error ? error.details[0].message : null;\n    };\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const errors = this.validate();\n      this.setState({\n        errors: errors || {}\n      });\n      this.doSubmit();\n    };\n    this.renderInput = function (name, placeholder) {\n      let type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"text\";\n      const {\n        data,\n        errors\n      } = _this.state;\n      return /*#__PURE__*/_jsxDEV(Input, {\n        type: type,\n        name: name,\n        value: data[name],\n        errors: errors,\n        placeholder: placeholder,\n        onChange: _this.handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 16\n      }, _this);\n    };\n    this.renderButton = function (label) {\n      let type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"submit\";\n      return /*#__PURE__*/_jsxDEV(Button, {\n        type: type,\n        label: label,\n        validate: _this.validate()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 16\n      }, _this);\n    };\n  }\n}\nexport default Form;","map":{"version":3,"names":["React","Component","Joi","Input","Button","jsxDEV","_jsxDEV","Form","constructor","_this","arguments","this","state","data","errors","handleChange","_ref","currentTarget","input","name","value","validateProperty","setState","validate","options","abortEarly","res","schema","error","item","details","path","message","_ref2","obj","handleSubmit","e","preventDefault","doSubmit","renderInput","placeholder","type","length","undefined","onChange","fileName","_jsxFileName","lineNumber","columnNumber","renderButton","label"],"sources":["C:/Users/MOHAMED KAIF/OneDrive/Documents/React.js/Blogging/curly_b/src/components/common/form.jsx"],"sourcesContent":["import React, { Component } from 'react';\r\nimport Joi from 'joi-browser';\r\nimport Input from './input';\r\nimport Button from './button';\r\n\r\nclass Form extends Component {\r\n    state = {\r\n        data: {},\r\n        errors: {}\r\n    }\r\n    handleChange = ({ currentTarget: input }) => {\r\n        const data = { ...this.state.data };\r\n        data[input.name] = input.value;\r\n        const errors = { ...this.state.errors };\r\n        errors[input.name] = this.validateProperty(input);\r\n        this.setState({ data, errors });\r\n    }\r\n    validate = () => {\r\n        const { data } = this.state;\r\n        const options = { abortEarly: false }\r\n        const res = Joi.validate(data, this.schema, options);\r\n\r\n        if (!res.error) return null;\r\n\r\n        const errors = {};\r\n        for (let item of res.error.details)\r\n            errors[item.path[0]] = item.message;\r\n        return errors;\r\n    }\r\n\r\n    validateProperty = ({ name, value }) => {\r\n        const obj = { [name]: value };\r\n        const schema = { [name]: this.schema[name] };\r\n        const { error } = Joi.validate(obj, schema);\r\n        return error ? error.details[0].message : null;\r\n    }\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        const errors = this.validate();\r\n        this.setState({ errors: errors || {} })\r\n\r\n        this.doSubmit();\r\n    }\r\n\r\n    renderInput = (name, placeholder, type = \"text\") => {\r\n        const { data, errors } = this.state;\r\n        return <Input\r\n            type={type}\r\n            name={name}\r\n            value={data[name]}\r\n            errors={errors}\r\n            placeholder={placeholder}\r\n            onChange={this.handleChange}\r\n        />\r\n    }\r\n\r\n    renderButton = (label, type = \"submit\") => {\r\n        return <Button\r\n            type={type}\r\n            label={label}\r\n            validate={this.validate()}\r\n        />\r\n    }\r\n}\r\n\r\nexport default Form;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,GAAG,MAAM,aAAa;AAC7B,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,MAAM,MAAM,UAAU;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9B,MAAMC,IAAI,SAASN,SAAS,CAAC;EAAAO,YAAA;IAAA,IAAAC,KAAA;IAAA,SAAAC,SAAA;IAAAD,KAAA,GAAAE,IAAA;IAAA,KACzBC,KAAK,GAAG;MACJC,IAAI,EAAE,CAAC,CAAC;MACRC,MAAM,EAAE,CAAC;IACb,CAAC;IAAA,KACDC,YAAY,GAAGC,IAAA,IAA8B;MAAA,IAA7B;QAAEC,aAAa,EAAEC;MAAM,CAAC,GAAAF,IAAA;MACpC,MAAMH,IAAI,GAAG;QAAE,GAAG,IAAI,CAACD,KAAK,CAACC;MAAK,CAAC;MACnCA,IAAI,CAACK,KAAK,CAACC,IAAI,CAAC,GAAGD,KAAK,CAACE,KAAK;MAC9B,MAAMN,MAAM,GAAG;QAAE,GAAG,IAAI,CAACF,KAAK,CAACE;MAAO,CAAC;MACvCA,MAAM,CAACI,KAAK,CAACC,IAAI,CAAC,GAAG,IAAI,CAACE,gBAAgB,CAACH,KAAK,CAAC;MACjD,IAAI,CAACI,QAAQ,CAAC;QAAET,IAAI;QAAEC;MAAO,CAAC,CAAC;IACnC,CAAC;IAAA,KACDS,QAAQ,GAAG,MAAM;MACb,MAAM;QAAEV;MAAK,CAAC,GAAG,IAAI,CAACD,KAAK;MAC3B,MAAMY,OAAO,GAAG;QAAEC,UAAU,EAAE;MAAM,CAAC;MACrC,MAAMC,GAAG,GAAGxB,GAAG,CAACqB,QAAQ,CAACV,IAAI,EAAE,IAAI,CAACc,MAAM,EAAEH,OAAO,CAAC;MAEpD,IAAI,CAACE,GAAG,CAACE,KAAK,EAAE,OAAO,IAAI;MAE3B,MAAMd,MAAM,GAAG,CAAC,CAAC;MACjB,KAAK,IAAIe,IAAI,IAAIH,GAAG,CAACE,KAAK,CAACE,OAAO,EAC9BhB,MAAM,CAACe,IAAI,CAACE,IAAI,CAAC,CAAC,CAAC,CAAC,GAAGF,IAAI,CAACG,OAAO;MACvC,OAAOlB,MAAM;IACjB,CAAC;IAAA,KAEDO,gBAAgB,GAAGY,KAAA,IAAqB;MAAA,IAApB;QAAEd,IAAI;QAAEC;MAAM,CAAC,GAAAa,KAAA;MAC/B,MAAMC,GAAG,GAAG;QAAE,CAACf,IAAI,GAAGC;MAAM,CAAC;MAC7B,MAAMO,MAAM,GAAG;QAAE,CAACR,IAAI,GAAG,IAAI,CAACQ,MAAM,CAACR,IAAI;MAAE,CAAC;MAC5C,MAAM;QAAES;MAAM,CAAC,GAAG1B,GAAG,CAACqB,QAAQ,CAACW,GAAG,EAAEP,MAAM,CAAC;MAC3C,OAAOC,KAAK,GAAGA,KAAK,CAACE,OAAO,CAAC,CAAC,CAAC,CAACE,OAAO,GAAG,IAAI;IAClD,CAAC;IAAA,KACDG,YAAY,GAAGC,CAAC,IAAI;MAChBA,CAAC,CAACC,cAAc,EAAE;MAClB,MAAMvB,MAAM,GAAG,IAAI,CAACS,QAAQ,EAAE;MAC9B,IAAI,CAACD,QAAQ,CAAC;QAAER,MAAM,EAAEA,MAAM,IAAI,CAAC;MAAE,CAAC,CAAC;MAEvC,IAAI,CAACwB,QAAQ,EAAE;IACnB,CAAC;IAAA,KAEDC,WAAW,GAAG,UAACpB,IAAI,EAAEqB,WAAW,EAAoB;MAAA,IAAlBC,IAAI,GAAA/B,SAAA,CAAAgC,MAAA,QAAAhC,SAAA,QAAAiC,SAAA,GAAAjC,SAAA,MAAG,MAAM;MAC3C,MAAM;QAAEG,IAAI;QAAEC;MAAO,CAAC,GAAGL,KAAI,CAACG,KAAK;MACnC,oBAAON,OAAA,CAACH,KAAK;QACTsC,IAAI,EAAEA,IAAK;QACXtB,IAAI,EAAEA,IAAK;QACXC,KAAK,EAAEP,IAAI,CAACM,IAAI,CAAE;QAClBL,MAAM,EAAEA,MAAO;QACf0B,WAAW,EAAEA,WAAY;QACzBI,QAAQ,EAAEnC,KAAI,CAACM;MAAa;QAAA8B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,GAAAvC,KAAA,CAC9B;IACN,CAAC;IAAA,KAEDwC,YAAY,GAAG,UAACC,KAAK,EAAsB;MAAA,IAApBT,IAAI,GAAA/B,SAAA,CAAAgC,MAAA,QAAAhC,SAAA,QAAAiC,SAAA,GAAAjC,SAAA,MAAG,QAAQ;MAClC,oBAAOJ,OAAA,CAACF,MAAM;QACVqC,IAAI,EAAEA,IAAK;QACXS,KAAK,EAAEA,KAAM;QACb3B,QAAQ,EAAEd,KAAI,CAACc,QAAQ;MAAG;QAAAsB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,GAAAvC,KAAA,CAC5B;IACN,CAAC;EAAA;AACL;AAEA,eAAeF,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}