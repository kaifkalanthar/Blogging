{"ast":null,"code":"import http from './httpService';\nimport apiUrl from '../config.json';\nimport jwtDecode from 'jwt-decode';\nconst {\n  apiUrl: ApiUrl\n} = apiUrl;\nconst apiEndpoint = ApiUrl + \"api/auth\";\nexport async function login(email, password) {\n  const {\n    data: jwt\n  } = await http.post(apiEndpoint, {\n    email: email,\n    password: password\n  });\n  localStorage.setItem(\"token\", jwt);\n}\nexport function logout() {\n  localStorage.removeItem(\"token\");\n}\nexport function getCurrentUser() {\n  try {\n    const jwt = localStorage.getItem(\"token\");\n    const user = jwtDecode(jwt);\n    return user;\n  } catch (ex) {}\n}\nexport default {\n  login,\n  logout,\n  getCurrentUser\n};","map":{"version":3,"names":["http","apiUrl","jwtDecode","ApiUrl","apiEndpoint","login","email","password","data","jwt","post","localStorage","setItem","logout","removeItem","getCurrentUser","getItem","user","ex"],"sources":["C:/Users/MOHAMED KAIF/OneDrive/Documents/React.js/Blogging/curly_b/src/service/authService.js"],"sourcesContent":["import http from './httpService';\r\nimport apiUrl from '../config.json';\r\nimport jwtDecode from 'jwt-decode';\r\nconst { apiUrl: ApiUrl } = apiUrl;\r\nconst apiEndpoint = ApiUrl + \"api/auth\";\r\nexport async function login(email, password) {\r\n    const { data: jwt } = await http.post(apiEndpoint, {\r\n        email: email,\r\n        password: password\r\n    });\r\n    localStorage.setItem(\"token\", jwt);\r\n}\r\nexport function logout() {\r\n    localStorage.removeItem(\"token\");\r\n}\r\n\r\nexport function getCurrentUser() {\r\n    try {\r\n        const jwt = localStorage.getItem(\"token\");\r\n        const user = jwtDecode(jwt);\r\n        return user;\r\n    } catch (ex) { }\r\n}\r\nexport default {\r\n    login,\r\n    logout,\r\n    getCurrentUser\r\n}\r\n"],"mappings":"AAAA,OAAOA,IAAI,MAAM,eAAe;AAChC,OAAOC,MAAM,MAAM,gBAAgB;AACnC,OAAOC,SAAS,MAAM,YAAY;AAClC,MAAM;EAAED,MAAM,EAAEE;AAAO,CAAC,GAAGF,MAAM;AACjC,MAAMG,WAAW,GAAGD,MAAM,GAAG,UAAU;AACvC,OAAO,eAAeE,KAAKA,CAACC,KAAK,EAAEC,QAAQ,EAAE;EACzC,MAAM;IAAEC,IAAI,EAAEC;EAAI,CAAC,GAAG,MAAMT,IAAI,CAACU,IAAI,CAACN,WAAW,EAAE;IAC/CE,KAAK,EAAEA,KAAK;IACZC,QAAQ,EAAEA;EACd,CAAC,CAAC;EACFI,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,GAAG,CAAC;AACtC;AACA,OAAO,SAASI,MAAMA,CAAA,EAAG;EACrBF,YAAY,CAACG,UAAU,CAAC,OAAO,CAAC;AACpC;AAEA,OAAO,SAASC,cAAcA,CAAA,EAAG;EAC7B,IAAI;IACA,MAAMN,GAAG,GAAGE,YAAY,CAACK,OAAO,CAAC,OAAO,CAAC;IACzC,MAAMC,IAAI,GAAGf,SAAS,CAACO,GAAG,CAAC;IAC3B,OAAOQ,IAAI;EACf,CAAC,CAAC,OAAOC,EAAE,EAAE,CAAE;AACnB;AACA,eAAe;EACXb,KAAK;EACLQ,MAAM;EACNE;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}